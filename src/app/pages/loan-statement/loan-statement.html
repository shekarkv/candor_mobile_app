<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="menu/home"></ion-back-button>
    </ion-buttons>
    <ion-title>Loan Statement</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  <ion-list>
    <ion-item lines="none">
      <ion-label style="color:navy;font-weight:bold;">Please Select Month & Year</ion-label>
    </ion-item>
    <!-- <ion-item no-lines style="padding-right:2%;"> -->
      <!-- <ion-datetime  style="padding-left:3% !important;width:100%;" [(ngModel)]="today"
        (ngModelChange)="changeEmpLoanData()"></ion-datetime> -->
        <ion-input fill="outline" style="background-color:#eeeeef;" value="{{ today | date: 'MMMM-YYYY' }}"  id="today"  class="ion-text-center">
          <!-- <ion-icon slot="end" size="medium" style="color:black" name="calendar"></ion-icon>  -->
        </ion-input>
        <ion-popover trigger="today" show-backdrop="false">
          <ng-template> 
            <ion-datetime
              [showDefaultButtons]="true" 
              presentation="month-year"
              [(ngModel)]="today"
              (ionChange)="changeEmpLoanData();"
            ></ion-datetime>
          </ng-template>
        </ion-popover>
    <!-- </ion-item> -->
  </ion-list>

  <h4 class="msg" *ngIf="this.loan_arr == '' || this.loan_arr == 'undefined' || this.loan_arr == undefined ">
    {{loading_msg}}
  </h4>

  <ion-card *ngFor="let l of loan_arr" (click)="getLoanData(l)">

    <ion-card-header style="padding:5px 5px 0px 6px;">
      <h4 class="heading">LOAN DETAILS</h4>
    </ion-card-header>

    <ion-item lines="none">
      <ion-grid>
      <ion-row>
        <ion-col size="6">Loan Name</ion-col>
        <ion-col size="1">:</ion-col>
        <ion-col size="5"><b>{{l.loan_desc}}</b></ion-col>
      </ion-row>

      <ion-row>
        <ion-col size="6">From Date</ion-col>
        <ion-col size="1">:</ion-col>
        <ion-col size="5"><b>{{l.emp_loan_from_month}}</b></ion-col>
      </ion-row>
    
      <ion-row>
        <ion-col size="6">No of Installments</ion-col>
        <ion-col size="1">:</ion-col>
        <ion-col size="5"><b>{{l.emp_loan_no_inst}}</b></ion-col>
      </ion-row>

      <ion-row>
        <ion-col size="6">EMI Amount</ion-col>
        <ion-col size="1">:</ion-col>
        <ion-col size="5"><b>{{l.emp_loan_emi_amt}}</b></ion-col>
      </ion-row>

      <ion-row>
        <ion-col size="6">Status</ion-col>
        <ion-col size="1">:</ion-col>
        <ion-col size="5"><b>{{l.emp_loan_status}}</b></ion-col>
      </ion-row>

      <ion-row>
        <ion-col size="6">Amount Recovered</ion-col>
        <ion-col size="1">:</ion-col>
        <ion-col size="5"><b>{{l.paid_amount}}</b></ion-col>
      </ion-row>

      <ion-row>
        <ion-col size="6">Balance</ion-col>
        <ion-col size="1">:</ion-col>
        <ion-col size="5"><b>{{l.balance_amount}}</b></ion-col>
      </ion-row>

      <ion-row>
        <ion-col size="6">Total Amount</ion-col>
        <ion-col size="1">:</ion-col>
        <ion-col size="5"><b>{{l.emp_loan_total_amount}}</b></ion-col>
      </ion-row>  
    </ion-grid>

    </ion-item>

  </ion-card>

</ion-content>